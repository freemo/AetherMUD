<HTML>
<HEAD>
<META NAME="GENERATOR" Content="Microsoft Visual Studio 6.0">
<TITLE></TITLE>
</HEAD>
<BODY>

<P align=center><STRONG><FONT 
size=6>Programming</FONT></STRONG></P>
<P align=center><STRONG><FONT size=6>for CoffeeMud 4.0</FONT></STRONG></P>
<P align=left><FONT size=5><STRONG>
<IMG src="images/mug.jpg">
</STRONG><FONT 
size=3>&nbsp;</FONT></FONT></P>
<P align=left><FONT size=5 color=limegreen><STRONG>Overview:</STRONG></FONT></P>
<P align=left><FONT size=4>The purpose 
of this document is to assist those who wish to add custom Items, MOBs, 
Behaviors, Properties, or other objects to CoffeeMud.&nbsp; The reader should be 
familiar with Java programming, and should be experienced with writing and 
compiling Java classes.&nbsp; The object oriented notions of class inheretance 
and&nbsp;polymorphism, as well as the Java constructs of 
interfaces should be at least vaguely familiar to you before attempting to build classes 
for CoffeeMud.&nbsp; Also, it is expected that all of the ideas 
presented in the Archons Guide (ArchonGuide.html) are completely familiar.&nbsp; The difference 
between a GenItem and a StdItem will not be explained.&nbsp; 
It is not explained in the Archons Guide either, but if you 
have followed the Guide, you have discovered the differences on your 
own.</FONT></P>
<P align=left><FONT size=4>It is not expected that someone would wish to dive in 
and make wholesale changes to the CoffeeMud system right away, but is more 
likely wanting to fill in a functional gap in the system for their own 
needs.&nbsp; For this reason, this document is not organized as a comprehensive 
guide to programming CoffeeMud.&nbsp; Instead, it is designed to be a quick 
reference for those who wish to create the spot MOB, Behavior, Item, or Property 
for use on their maps.</FONT></P>
<P align=left><FONT size=4>With this in mind then, and in no particular order, 
the several essential object types in CoffeeMud are presented.</FONT></P>
<P align=left><FONT size=4></FONT>&nbsp;</P>
<IMG src="images/rainbow.jpg">
<P align=left><FONT size=5 color=mediumslateblue><STRONG>Text:</STRONG></FONT></P>
<P align=left><FONT size=4></FONT>Before we get started with objects, needs must
the topic of text display be covered.  Throughout the system you will see text
being sent to the user.  Since a mud is a text producing engine, this should be
no great suprise.  However, within that text you will often see different kinds 
of codes and tags which affect the output.  For instance, consider the following lines:</P>
<PRE>	msg=new FullMsg(mob,target,this,affectType,"&lt;S-NAME&gt; incant(s) and reach(es) for &lt;T-NAMESELF&gt;.");
	
	mob.location().show(mob,null,Affect.MSG_OK_ACTION,"&lt;S-NAME&gt; regain(s) &lt;S-HIS-HER&gt; feet.");
</PRE>
<P align=left><FONT size=4>Focusing only on the text for a moment, you will notice a that tags are
used to designate a player name, or the name of the target of a spell.  You will also notice that (s)
and (es) is used to modify the proper form of a verb.  These are key features of the CoffeeMud
text engine.  Here is a more complete list of available tage:</FONT>&nbsp;</P>
<TABLE WIDTH="100%" BORDER=1>
<TR><TD WIDTH="20%">&lt;S-HIS-HER&gt;</TD><TD>Outputs 'Your' if Observer=Source, otherwise 'His'/'Her'.</TD></TR>
<TR><TD WIDTH="20%">&lt;S-HIM-HER&gt;</TD><TD>Outputs 'You' if Observer=Source, otherwise 'Him'/'Her'.</TD></TR>
<TR><TD WIDTH="20%">&lt;S-NAME&gt;</TD><TD>Outputs 'You' if Observer=Source, otherwise the Name.</TD></TR>
<TR><TD WIDTH="20%">&lt;S-NAMESELF&gt;</TD><TD>Outputs 'Yourself' if Observer=Source, otherwise the Name</TD></TR>
<TR><TD WIDTH="20%">&lt;S-HE-SHE&gt;</TD><TD>Outputs 'You' if Observer=Source, otherwise 'He'/'She'</TD></TR>
<TR><TD WIDTH="20%">&lt;S-IS-ARE&gt;</TD><TD>Outputs 'Are' if Observer=Source, otherwise 'Is'.</TD></TR>
<TR><TD WIDTH="20%">&lt;S-HAS-HAVE&gt;</TD><TD>Outputs 'Have' if Observer=Source, otherwise 'Has'.</TD></TR>
<TR><TD WIDTH="20%">&lt;S-YOUPOSS&gt;</TD><TD>Outputs 'Your' if Observer=Source, otherwise the Name`s</TD></TR>
<TR><TD WIDTH="20%">&lt;S-HIMHERSELF&gt;</TD><TD>Outputs 'Yourself' if Observer=Source, otherwise the 'Himself'/'Herself'</TD></TR>
<TR><TD WIDTH="20%">&lt;S-HISHERSELF&gt;</TD><TD>Outputs 'Yourself' if Observer=Source, otherwise the 'Hisself'/'Herself'</TD></TR>
<TR><TD WIDTH="20%">&lt;T-HIS-HER&gt;</TD><TD>Outputs 'You' if Observer=Target, otherwise 'His'/'Her'.</TD></TR>
<TR><TD WIDTH="20%">&lt;T-HIM-HER&gt;</TD><TD>Outputs 'You' if Observer=Target, otherwise 'Him'/'Her'.</TD></TR>
<TR><TD WIDTH="20%">&lt;T-NAME&gt;</TD><TD>Outputs 'You' if Observer=Target, otherwise the Name.</TD></TR>
<TR><TD WIDTH="20%">&lt;T-NAMESELF&gt;</TD><TD>Outputs 'Yourself' if Observer=Target, otherwise the Name</TD></TR>
<TR><TD WIDTH="20%">&lt;T-HE-SHE&gt;</TD><TD>Outputs 'You' if Observer=Target, otherwise 'He'/'She'</TD></TR>
<TR><TD WIDTH="20%">&lt;T-IS-ARE&gt;</TD><TD>Outputs 'Are' if Observer=Target, otherwise 'Is'.</TD></TR>
<TR><TD WIDTH="20%">&lt;T-HAS-HAVE&gt;</TD><TD>Outputs 'Have' if Observer=Target, otherwise 'Has'.</TD></TR>
<TR><TD WIDTH="20%">&lt;T-YOUPOSS&gt;</TD><TD>Outputs 'Your' if Observer=Target, otherwise the Name with an '`s'</TD></TR>
<TR><TD WIDTH="20%">&lt;T-HIMHERSELF&gt;</TD><TD>Outputs 'Yourself' if Observer=Source, otherwise the 'Himself'/'Herself'</TD></TR>
<TR><TD WIDTH="20%">&lt;T-HISHERSELF&gt;</TD><TD>Outputs 'Yourself' if Observer=Source, otherwise the 'Hisself'/'Herself'</TD></TR>
</TABLE>
<P align=left><FONT size=4>Occasionally, you will find color/font codes embedded in system strings.  For instance:
</FONT>&nbsp;</P>
<PRE>
			msg.append("^!You are thirsty.^?\n\r");
</PRE>
<P align=left><FONT size=4>These codes, defined in the system.TelnetSession class, are as follows:
</FONT>&nbsp;</P>
<TABLE WIDTH="50%" BORDER=1>
<TR><TD WIDTH="10%">^N</TD><TD>Normal</TD></TR>
<TR><TD WIDTH="10%">^!</TD><TD>Bold</TD></TR>
<TR><TD WIDTH="10%">^H</TD><TD>Highlight</TD></TR>
<TR><TD WIDTH="10%">^_</TD><TD>Underline</TD></TR>
<TR><TD WIDTH="10%">^*</TD><TD>Blink</TD></TR>
<TR><TD WIDTH="10%">^/</TD><TD>Italics</TD></TR>
<TR><TD WIDTH="10%">^^</TD><TD>Reset (turns off reverse)</TD></TR>
<TR><TD WIDTH="10%">^F</TD><TD>Fight (not in use, yet)</TD></TR>
<TR><TD WIDTH="10%">^S</TD><TD>Spell (not in use, yet)</TD></TR>
<TR><TD WIDTH="10%">^E</TD><TD>Emote (not in use, yet)</TD></TR>
<TR><TD WIDTH="10%">^T</TD><TD>Talk (not in use, yet)</TD></TR>
<TR><TD WIDTH="10%">^Q</TD><TD>Channel (not in use, yet)</TD></TR>
<TR><TD WIDTH="10%">^x</TD><TD>Important message 1</TD></TR>
<TR><TD WIDTH="10%">^X</TD><TD>Important message 2</TD></TR>
<TR><TD WIDTH="10%">^Z</TD><TD>Important message 3</TD></TR>
<TR><TD WIDTH="10%">^O</TD><TD>Room Title</TD></TR>
<TR><TD WIDTH="10%">^L</TD><TD>Room Description</TD></TR>
<TR><TD WIDTH="10%">^D</TD><TD>Direction</TD></TR>
<TR><TD WIDTH="10%">^d</TD><TD>Door</TD></TR>
<TR><TD WIDTH="10%">^I</TD><TD>Item</TD></TR>
<TR><TD WIDTH="10%">^M</TD><TD>MOB</TD></TR>
<TR><TD WIDTH="10%">^h</TD><TD>Prompt Color 1</TD></TR>
<TR><TD WIDTH="10%">^m</TD><TD>Prompt Color 2</TD></TR>
<TR><TD WIDTH="10%">^v</TD><TD>Prompt Color 3</TD></TR>
<TR><TD WIDTH="10%">^w</TD><TD>White</TD></TR>
<TR><TD WIDTH="10%">^g</TD><TD>Green</TD></TR>
<TR><TD WIDTH="10%">^b</TD><TD>Brown</TD></TR>
<TR><TD WIDTH="10%">^r</TD><TD>Red</TD></TR>
<TR><TD WIDTH="10%">^y</TD><TD>Yellow</TD></TR>
<TR><TD WIDTH="10%">^c</TD><TD>Cyan</TD></TR>
<TR><TD WIDTH="10%">^p</TD><TD>Purple</TD></TR>
<TR><TD WIDTH="10%">^W</TD><TD>Dark White</TD></TR>
<TR><TD WIDTH="10%">^G</TD><TD>Dark Green</TD></TR>
<TR><TD WIDTH="10%">^B</TD><TD>Dark Brown</TD></TR>
<TR><TD WIDTH="10%">^R</TD><TD>Dark Red</TD></TR>
<TR><TD WIDTH="10%">^Y</TD><TD>Dark Yellow</TD></TR>
<TR><TD WIDTH="10%">^C</TD><TD>Dark Cyan</TD></TR>
<TR><TD WIDTH="10%">^P</TD><TD>Dark Purple</TD></TR>
</TABLE>
<P align=left><FONT size=4>As you might have guessed, it is preferred that the system colors (the last
16 codes) be used sparingly, in favor of the more customizable codes above.
</FONT>&nbsp;
  <P></P>
<P align=left><FONT size=4></FONT>&nbsp;</P>
<IMG src="images/smurf.jpg">
<P align=left><FONT size=5 color=mediumslateblue><STRONG>MOBs:</STRONG></FONT></P>
<P align=left><FONT size=4>MOBs, or "Moveable OBjects", are the creatures and 
characters which the players fight.&nbsp; In CoffeeMud, they are among the 
simpler objects to code.&nbsp; This is not because they are uncomplex.&nbsp; In 
fact, they are the MOST complex.&nbsp; However, this complexity comes due to the 
myriad of Items, Behaviors, Properties, and Abilities that are added to 
them.&nbsp; Short of these numerous additions, a MOB by himself is rather 
simple!</FONT></P>
<P align=left><FONT size=4>This simplicity is important however, and should be 
carefully considered before you run off to create new MOBs.&nbsp; If you are 
creating a new MOB because you want a creature to have some new kind of ability, 
then are you sure it is not a new Ability you want to write?&nbsp; If the new 
MOBs behavior is complex and unique, are you sure it's not a new Behavior you 
wish to code?</FONT></P>
<P align=left><FONT size=4>If you are sure, then carry on!&nbsp; The directory 
for your custom coded MOB objects should be specified using the "MOBS" entry in 
the coffeemud.ini file.&nbsp; See the Installation Guide for more information on 
your INI file.</FONT></P>
<P align=left><FONT size=4 color=mediumslateblue><STRONG>Coding a new MOB:</STRONG></FONT></P>
<P align=left><FONT size=4>A Custom MOB may or may not belong to any particular 
package, though it is important that the NAME of the MOB be unique in the 
system.&nbsp; A custom MOB must import the following packages:</FONT></P>
<pre>
import java.util.*;
import com.planet_ink.coffee_mud.utils.*;
import com.planet_ink.coffee_mud.interfaces.*;
import com.planet_ink.coffee_mud.MOBS.*;
import com.planet_ink.coffee_mud.common.*;
</pre>
<P><FONT size=4>As well as any other 
java.*,&nbsp;&nbsp;sun.*, or&nbsp;custom&nbsp;packages you may need.&nbsp; No 
other packages in the CoffeeMud system should be imported, other than those 
listed.</FONT> </P>
<P><FONT size=4>A MOB class must extend 
either <STRONG>StdMOB</STRONG> or GenMob, <STRONG>StdShopKeeper</STRONG> or 
GenShopKeeper, <STRONG>StdRideable</STRONG>          
   or GenRideable depending on the basic 
capabilities, and customizability&nbsp;you would like.&nbsp; Although Generic 
objects are more customizable at run-time, they also take a long time for the 
system to load and build, and take up a lot of database disk space.&nbsp; For 
this reason, using Standard instead of Generic whereever possible is always 
good.&nbsp; </FONT></P>
<P><FONT size=4>Each MOB must also have a custom "newInstance" method as shown 
below.</FONT></P>
<PRE>
	public class MyNewMOB extends StdMOB 
	{ 
		public MyNewMOB() 
		{ 
			super(); 
		}

		public Environmental newInstance() 
		{ 
			return new MyNewMOB(); 
		} 
	}
</PRE>
<P><FONT size=4> All of your customizing will be done inside the constructor: 
name, displayText, description, etc, etc.</FONT></P>
<P><FONT size=4></FONT>&nbsp;</P>
<pre>
	public MyNewMOB()
	{
		super();

		setName("a new mob"); 
		setDescription("It`s furry with 2 legs"); 
		setDisplayText("My new mob is standing here.");
		
		setAlignment(500);
		setMoney(0);
		setWimpHitPoint(2);
		baseEnvStats().setDamage(4);

		baseEnvStats().setAbility(0);
		baseEnvStats().setLevel(1);
		baseEnvStats().setArmor(30);
		baseEnvStats().setSpeed(1.0);
		baseEnvStats().setAttackAdjustment(30);
		baseEnvStats().setWeight(85);
		baseEnvStats().setSensesMask(EnvStats.CAN_SEE_DARK|EnvStats.CAN_SEE_INFRARED); <BR>		baseEnvStats().setDisposition(EnvStats.IS_FLYING);
		baseCharStats().setMyClass(CMClass.getCharClass("Fighter"));
		
		baseCharStats().setMyRace(CMClass.getRace("Dog"));
		baseCharStats().getMyRace().startRacing(this,false);
		baseCharStats().setStat(CharStats.GENDER,(int)'F');
		baseCharStats().setStat(CharStats.STRENGTH,18); <BR>		baseCharStats().setStat(CharStats.INTELLIGENCE,14);
		baseCharStats().setStat(CharStats.WISDOM,13);
		baseCharStats().setStat(CharStats.DEXTERITY,15);
		baseCharStats().setStat(CharStats.CONSTITUTION,12);
		baseCharStats().setStat(CharStats.CHARISMA,13);
		baseCharStats().setStat(CharStats.SAVE_COLD,50);<BR>
		baseState.setHitPoints(Dice.roll(baseEnvStats().level(),20,20));
		baseState.setMana(Dice.roll(baseEnvStats().level(),50,100));
		
		recoverMaxState();
		resetToMaxState();
		recoverEnvStats();
		recoverCharStats();
	}
</pre>
<P><FONT size=4>You can see here that the basic stats have 
been filled out, from level to attack speed, alignment and 
weight.&nbsp;&nbsp;For&nbsp;numeric values, higher is always better, except for 
Armor, which is always best low, and comes down from 100.&nbsp; You'll notice 
above that two commands are required to set the Race of the creature.&nbsp; 
Also, you should realize that the numerous saving throws, and senses as well as 
dispositions (sneaking, hiding) are not represented above, but can easily be 
added using the format shown.</FONT></P>
<P><FONT size=4>It is very important to note the last four commands.&nbsp; These 
commands "reset" the MOB, and "implement" the scores which are given in the 
several areas.&nbsp; "recoverEnvStats()", for instance, must be called whenever 
a change is made to the "baseEnvStats()" object.&nbsp; Ditto for "CharStats" and 
"MaxState".&nbsp; </FONT></P>
<P><FONT size=4>Now, suppose we wanted 
to add an "Affect" or "Behavior" or "Ability" to your 
<STRONG>StdMOB</STRONG>.&nbsp; The 
proper place for such a statement would be in the same above constructor, among 
the other commands.&nbsp; Preferably before the several "recover" commands, but 
after the several stat definitions.  Of course, all of this is unnecesssary for a 
new GenMOB object.</FONT></P>
<pre>
		
		addNonUninvokableAffect(CMClass.getAbility("Fighter_Berzerk"));
		addAbility(CMClass.getAbility("Poison"));
		
		addBehavior(CMClass.getBehavior("MudChat"));
		addBehavior(CMClass.getBehavior("Mobile"));
		addBehavior(CMClass.getBehavior("CombatAbilities"));
		
</pre>
<P><FONT size=4></FONT></P>
<P><FONT size=4>The commands above will 
make the MOB permanently Berzerk, gives it the ability to Poison folks while in 
combat, allows the MOB to Chat with other players, and&nbsp;to walk around 
in its area. The last behavior 
gives the MOB the wisdom to use its Poison ability while in 
combat.</FONT></P>
<P><FONT size=4>If your MOB extends 
<STRONG>StdShopKeeper</STRONG>    , you will need to add your inventory manually.  You will also
need to specify the type of ShopKeeper.
</FONT></P>
<pre>
		setWhatIsSold(ShopKeeper.ONLYBASEINVENTORY);
		
		Weapon sword=(Weapon)CMClass.getWeapon("Longsword");
		addStoreInventory(sword,35);
		Armor mail=(Armor)CMClass.getArmor("FullPlate");
		addStoreInventory(mail,35);
		Item waterskin=(Item)CMClass.getItem("Waterskin");
		addStoreInventory(waterskin,35);
</pre>
<P><FONT size=4>You'll recall from the Archon's Guide that there are many different types of ShopKeepers, 
including trainers, pet sellers, weaponsmiths, and others. </FONT></P>
<P><FONT size=4><STRONG>StdRideable</STRONG> MOBs will require a few other 
settings as well!</FONT></P>
<pre>
		setRideBasis(Rideable.RIDEABLE_LAND);
		setMobCapacity(2);
</pre>
<P><FONT size=4>The last thing is to give the MOB equipment, 
armor, and weapons.&nbsp; The following commands will do the trick!</FONT></P>
<pre>
		Weapon sword=(Weapon)CMClass.getWeapon("Longsword");
		addInventory(sword);
		sword.wearIfPossible(this);
		
		Armor mail=(Armor)CMClass.getArmor("FullPlate");
		addInventory(mail);
		mail.wearIfPossible(this);
		
		Item sack=(Item)CMClass.getItem("StdContainer");
		addInventory(sack);
		
		Item waterskin=(Item)CMClass.getItem("Waterskin");
		addInventory(waterskin);
		waterskin.setContainer(sack);
</pre>
<P><FONT size=4>And THAT's all there is to creating a new MOB.  Easy, huh?  Well, obviously, the real complexity of MOBs
comes when the Behaviors and Abilities are programmed, but that is not covered here, of course.</FONT></P>
<P><FONT size=4 color=mediumslateblue><STRONG>Bringing MOBs to Life, and Taking That Life 
Away:</STRONG></FONT></P>
<P><FONT color=black size=4>The 
following instructions are supplemental, and unnecessary. Once  you have created your new MOB, modified your INI file, and
rebooted your CoffeeMud server, you need only use the CREATE and other Archon commands to make use of him. If, 
for some reason, you want to know HOW these commands do their work, however, here it is.</FONT></P>
<P><FONT color=black size=4>To bring a MOB into existence, a MOB must have 
somewhere to exist!&nbsp; Presumably, this is some room on your map.&nbsp; Rooms 
on the map are classes which implement the interface "Room".&nbsp; If a MOB is 
to have a permanent existence, it must also have a starting room, or a place to 
rejuvinate into when necessary.&nbsp; If a MOB does not have a starting room, 
then its death, when that death comes, &nbsp;will be forever.</FONT></P>
<pre>
	MOB mob=CMClass.getMOB("MyNewMOB");
	Room room=CMMap.getRoom("Midgaard#3504");
	
	mob.setStartRoom(room); // this mob will rejuvinate into this room.
	mob.baseEnvStats().setRejuv(500); // 30 minutes rejuvination time
	mob.recoverEnvStats(); // remember this command?!
	
	mob.bringToLife(room,true); // tadah!
</pre>
<P><FONT size=4>And THAT's all there is to bring a standard mob to life.  
Now, generic items require an additional step:  </FONT></P>
<PRE>
	Item item=CMClass.getItem("GenItem");
	Room room=CMMap.getRoom("Midgaard#3504");
	
	item.text();
	item.recoverEnvStats();
	room.addItem(item);
	room.recoverRoomStats();
</PRE>
<P><FONT size=4>The call to the text() method and the seemingly redundant call
to Item.recoverEnvStats() (which we know is already in the item constructor),
ensures that some of the internal structures of the Generic MOB are properly set.
Of course, you may want to save this room to the database to make the situation 
permanent, but all of this is usually done from inside CoffeeMud using the
CREATE, MODIFY, and DESTROY commands anyway.  Speaking of destroy, destroying 
a mob for good is even easier than creating one:
</FONT></P>
<pre>
	Room room=CMMap.getRoom("Midgaard#3504");
	for(int i=0;i&lt;room.numInhabitants();i++)
	{
		MOB mob=room.fetchInhabitant(i);
		mob.destroy();
	}
</pre>
<P align=left></P>
<P align=left></P>
<P align=left><FONT size=5><STRONG>
<IMG src="images/sword.jpg">
</STRONG></FONT><FONT size=3>&nbsp;</FONT></P>
<P align=left><FONT size=5 color=crimson><STRONG>Items:</STRONG></FONT></P>
<P align=left><FONT size=4>A Custom Item may or may not belong to any particular 
package, though it is important that the NAME of the Item be unique in the 
system.&nbsp; A custom Item must import the following packages:</FONT></P>
<FONT size=3><PRE>
	import java.util.*;
	import com.planet_ink.coffee_mud.utils.*;
	import com.planet_ink.coffee_mud.interfaces.*;
	import com.planet_ink.coffee_mud.Items.*;
	import com.planet_ink.coffee_mud.Items.Armor.*;
	import com.planet_ink.coffee_mud.Items.Weapons.*;
	import com.planet_ink.coffee_mud.Items.MiscMagic.*;
	import com.planet_ink.coffee_mud.common.*;</FONT> 
 </PRE></FONT>
<P><FONT size=4>As well as any other java.*,&nbsp;&nbsp;sun.*, 
or&nbsp;custom&nbsp;packages you may need.&nbsp; No other packages in the 
CoffeeMud system should be imported, other than those listed.</FONT> </P>
<P><FONT size=4>An Item&nbsp;class must 
extend either <STRONG>StdItem</STRONG> or GenItem, <STRONG>StdWeapon</STRONG> or 
GenWeapon, <STRONG>StdRideable</STRONG> or GenRideable, 
<STRONG>StdArmor</STRONG> or GenArmor&nbsp;depending on the basic 
capabilities, and customizability&nbsp;you would like.&nbsp; Although Generic 
objects are more customizable at run-time, they also take a long time for the 
system to load and build, and take up a lot of database disk space.&nbsp; For 
this reason, using Standard instead of Generic whereever possible is always 
good.&nbsp; </FONT></P>
<P><FONT size=4>Each Item must also have a custom newInstance() and ID() methods as shown 
below.</FONT></P>
<PRE>
	public class MyNewSword extends StdWeapon 
	{ 
		public String ID(){	return "MyNewSword";}
		public MyNewSword() 
		{ 
			super(); 
		}
		
		public Environmental newInstance() 
		{ 
			return new MyNewSword(); 
		} 
	}
</PRE>
<P><FONT size=4>All of your customizing will be done inside the constructor: name, displayText, description, etc, 
etc.</FONT></P>
<pre>	
	public MyNewSword()
	{
		super();

		setName("a super sword"); 
		setDescription("A long super duper sword!"); 
		setDisplayText("Someone left their super sword here."); 
		setSecretIdentity("");
		setMaterial(EnvResource.RESOURCE_STEEL);
		setWeaponType(Weapon.TYPE_SLASHING);
		setWeaponClassigication(Weapon.CLASS_SWORD);
		
		setBaseValue(500);
		baseEnvStats().setDisposition(EnvStats.IS_GLOWING);
		baseEnvStats.setWeight(25);
		baseEnvStats.setAttackAdjustment(10);
		baseEnvStats.setDamage(15);
		recoverEnvStats();
	}
	
</pre>
<P><FONT size=4>What is shown above is 
entirely sufficient for the creation of a <STRONG>StdWeapon</STRONG> . The material, weight, attack and damage 
describe it completely. You'll even notice that            by  setting a disposition flag,
we have made the sword  glow!&nbsp;&nbsp;Now, what if we wanted a missile weapon?</FONT></P>
<pre>	
	public MyNewBow()
	{
		super();

		setName("a super bow");
		setDescription("A long super duper bow!"); 
		setDisplayText("Someone left their super bow here.");
		setSecretIdentity("");
		
		setMaterial(EnvResource.RESOURCE_OAK);
		setBaseValue(5000);
		baseEnvStats.setWeight(15);
		baseEnvStats.setAttackAdjustment(20);
		baseEnvStats.setDamage(5);
		setWeaponType(Weapon.TYPE_PIERCING);
		setWeaponClassigication(Weapon.CLASS_RANGED);
		setRanges(1,5);
		setAmmunitionType("arrows");
		recoverEnvStats();
	}
	
</pre>
<P><FONT size=4></FONT>&nbsp;</P>
<P><FONT size=4>You'll notice we added 
two new mathods, setRanges, and setAmmunitionType. With the former, we specify 
that this is a ranged-only weapon, usable from range 1 (0=melee) to range 5. The 
ammunition type specifies that it uses arrows. Other classes, however, have 
different requirements altogether. For instance, <STRONG>StdArmor</STRONG>:</FONT></P>
<pre>	
	public MyNewArmor()
	{
		super();

		setName("a super bracer");
		setDescription("A super duper bracer"); 
		setDisplayText("Someone left their super bracer here.");
		setSecretIdentity("");
		
		setMaterial(EnvResource.RESOURCE_STEEL);
		setBaseValue(100);
		baseEnvStats.setWeight(5);
		baseEnvStats.setArmor(5);
		setRawProperLocationBitmap(Item.ON_LEFT_WRIST|Item.ON_RIGHT_WRIST);
		setRawLogicalAnd(false);
		recoverEnvStats();
	}
	
</pre>
<P><FONT size=4>In this case, we made a 
bracer wearable on both left and right wrists. If it were something that could 
only be worn on both wrists at the same time (like handcuffs), then the 
RawLogicalAnd value would have been true. Now, a <STRONG>StdContainer</STRONG>:</FONT></P>
<pre>	
	public MyNewBag()
	{
		super();

		setName("a super bag");
		setDescription("A super duper bag"); 
		setDisplayText("Someone left their super bag here.");
		setSecretIdentity("");
		
		setBaseValue(50);
		setLidsNLocks(false,true,false,false);
		setKeyName("");
		setMaterial(EnvResource.RESOURCE_LEATHER);
		baseEnvStats.setWeight(1);
		setCapacity(100);
		recoverEnvStats();
	}
</pre>
<P><FONT size=4>When setting the 
capacity of a container, remember that it must also be able to hold its own 
weight! Also, note the lids and locks flags have made this container lidless and 
lockless and always open.&nbsp; Of course, without a lock, setting a key would 
be silly!&nbsp; Now, a <STRONG>StdDrink</STRONG> container:</FONT></P>
<pre>	
	public MyNewCup()
	{
		super();

		setName("a super cup");
		setDescription("A super duper cup"); 
		setDisplayText("Someone left their super bag here.");
		setSecretIdentity("");
		
		setMaterial(EnvResource.RESOURCE_LEATHER);
		setBaseValue(5);
		setLiquidHeld(2000);
		setLiquidRemaining(2000);
		setThirstQuenched(500);
		setLiquidType(EnvResource.RESOURCE_MILK);
		baseEnvStats.setWeight(1);
		setCapacity(0);
		recoverEnvStats();
	}
</pre>
<P><FONT size=4>The 
<STRONG>StdDrink</STRONG> created above is an enormous cup of milk! You'll 
notice the capacity is 0, meaning that mundane objects cannot be stored in it. 
Now, a <STRONG>StdFood</STRONG>:</FONT></P>
<pre>	
	public MyNewFood()
	{
		super();

		setName("a super crumb");
		setDescription("A super duper crumb");
		setDisplayText("Someone left their super crumbs.");
		setSecretIdentity("");
		
		setBaseValue(1);
		setMaterial(EnvResource.RESOURCE_MEAT);
		setNourishment(500);
		baseEnvStats.setWeight(1);
		recoverEnvStats();
	}
</pre>
<P><FONT size=4>Now, the 
<STRONG>StdRideable</STRONG>   resembles the MOB of the same name, and thus, has identical modifications.</FONT></P>
<pre>	
	public MyNewBed()
	{
		super();

		setName("a bed");
		setDescription("A bed");
		setDisplayText("A bed is here");
		setSecretIdentity("");
		
		setBaseValue(100);
		setMobCapacity(2);
		setRideBasis(Rideable.RIDEABLE_SLEEP);
		baseEnvStats.setWeight(100);
		recoverEnvStats();
	}
</pre>
<P><FONT size=4>A pile of money, aka <STRONG>StdCoins</STRONG>, is simplest of all:</FONT></P>
<pre>	
	public MyNewMoney()
	{
		super();

		setName("a pile of coins");
		setDescription("A pile of coins");
		setDisplayText("Someone left their money here.");
		setSecretIdentity("");
		
		setBaseValue(0);
		setMaterial(EnvResource.RESOURCE_GOLD);
		baseEnvstats.setAbility(1000); // 1000 coins!
		baseEnvStats.setWeight(1);
		recoverEnvStats();
	}
</pre>
<P><FONT size=4>    Notice that the base value of the coins is 0, 
it's the Ability score that does all the work.&nbsp; 
Now, to a magical <STRONG>StdPill</STRONG>:</FONT></P>
<pre>	
	public MyNewPill()
	{
		super();

		setName("a super pill");
		setDescription("A super duper pill");
		setDisplayText("Someone left their super pill.");
		setSecretIdentity("");
		
		setBaseValue(1);
		setMaterial(EnvResource.RESOURCE_MEAT);
		setNourishment(500);
		baseEnvStats.setWeight(1);
		setSpellList("Spell_Sleep;Prayer_CureLightWounds");
		recoverEnvStats();
	}
</pre>
<P><FONT size=4>The spells cast on the 
eater are listed by their Class names, seperated by semicolons. The secret 
identity is also trimmed out, since the system will handle that automatically. 
Also notice that the <STRONG>StdPill</STRONG> resembles <STRONG>StdFood</STRONG> 
except for the addition of the setSpellList method. In the exact same way, the 
<STRONG>StdPotion</STRONG> class resembles the <STRONG>StdDrink</STRONG> class 
except that it has an identical setSpellList method added to IT. So, in the 
interests of saving a little sand for future generations, I would enumerate the 
<STRONG>StdPotion</STRONG>. We can, however, show off a 
<STRONG>StdScroll</STRONG>:</FONT></P>
<pre>	
	public MyNewScroll()
	{
		super();

		setName("a super scroll");
		setDescription("A super duper scroll"); 
		setDisplayText("Someone	left their super scroll."); 
		setSecretIdentity("");
		setBaseValue(100);
		
		setMaterial(EnvResource.RESOURCE_PAPER);
		setUsesRemaining(50);
		baseEnvStats.setWeight(1);
		setScrollSpells("Spell_Sleep;Prayer_CureLightWounds");
		recoverEnvStats();
	}
</pre>
<P><FONT size=4>Not too difficult, 
right? Looks like the other two, but the spell setting method has a different 
name. Now, let's look at a <STRONG>StdWand</STRONG>:</FONT></P>
<pre>	
	public MyNewWand()
	{
		super();

		setName("a wand");
		setDescription("A magic wand");
		setDisplayText("Someone left their magic wand.");
		setSecretIdentity("");
		
		setBaseValue(1000);
		setMaterial(EnvResource.RESOURCE_OAK);
		baseEnvStats.setWeight(1);
		setSpell(CMClass.getAbility("Spell_Fireball"));
		setUsesRemaining(50);
		recoverEnvStats();
	}
</pre>
<P><FONT size=4>In this case, we made 
use of the "uses remaining" field to set the number of charges for the wand. The 
way the spell is set is also different. A wand may only have one spell, and the 
actual Ability object for the spell must be passed in, instead of just the class 
name as we did before. You will find that this is also how the 
<STRONG>StdStaff</STRONG> works. The <STRONG>StdStaff</STRONG> resembles the 
<STRONG>StdWeapon</STRONG> we did above, except that the additional
setSpell and setUsesRemaining calls become appropriate to the constructor.  </FONT></P>
<P><FONT size=4>The next thing we will look at is adding 
affects and behaviors to Items.&nbsp; Behavior addition (despite the fact that 
there is really only one behavior that works with Items) will look familiar.  The only
difference between this and the MOB example above is the fact that we are setting a
parameter on the Behavior before adding it. 
</FONT></P>
<pre>	
		Behavior B=CMClass.getBehavior("Emoter");
		B.setParms("min=1 max=20 chance=75/makes strange sounds");
		addBehavior(B);
		
</pre>
<P><FONT size=4>Adding normal affects as properties is also similar to mobs...</FONT></P>
<pre>	
		Ability A=CMClass.getAbility("Prop_HaveResister");
		A.setMiscText("fire acid 50%");
		A.addNonUninvokableAffect(A);
</pre>
<P><FONT size=4>The above affect will 
allow anyone who owns the item to resist fire and acid at 50%!&nbsp; And again, 
as with mobs, these commands are best put in the constructor of
the item before the recoverEnvStats() call.</FONT></P>
<P><FONT color=mediumslateblue size=4><STRONG>Creating and Destroying 
Items:</STRONG></FONT></P>
<P><FONT color=black size=4>As with mobs, the following instructions are 
supplemental, and unnecessary. Once you have created your new Item, modified 
your INI file, and rebooted your CoffeeMud server, you need only use the CREATE 
and other Archon commands to make use of it. If, for some reason, you want to 
know HOW these commands do their work, however, here it is.</FONT></P>
<P><FONT color=black size=4>To bring an&nbsp;Item into existence, an 
item&nbsp;must have somewhere to exist!&nbsp; Items can belong to either Rooms, 
as mobs are, or they can belong to mobs themselves.&nbsp; This means that Items 
actually have two different creation mechanisms.&nbsp; Here is an example of 
each, starting with the creation of an Item in a Room:</FONT></P>
<PRE>
	Item item=CMClass.getItem("MyNewItem");
	Room room=CMMap.getRoom("Midgaard#3504");
	
	room.addItem(item);
	room.recoverRoomStats();
</PRE>
<P><FONT size=4>A room is grabbed off the 
map, and the item is added to the room using the addItem() method. Then the room
recover is called to  make the room react to the addition of the item.&nbsp;&nbsp;
Now, generic items require an additional step:  </FONT></P>
<PRE>
	Item item=CMClass.getItem("GenItem");
	Room room=CMMap.getRoom("Midgaard#3504");
	
	item.text();
	item.recoverEnvStats();
	room.addItem(item);
	room.recoverRoomStats();
</PRE>
<P><FONT size=4>The call to the text() method and the seemingly redundant call
to Item.recoverEnvStats() (which we know is already in the item constructor),
ensures that some of the internal structures of the Generic Item are properly set.
Of course, these items are one-shot items, meaning that they are not generated
to exist on the map forever and ever.
</FONT></P>
<PRE>
	Item item=CMClass.getItem("MyNewItem");
	Room room=CMMap.getRoom("Midgaard#3504");
	
	item.baseEnvStats().setRejuv(500); // 30 minutes rejuvination time
	item.recoverEnvStats();
	room.addItem(item);
	room.recoverRoomStats();
	room.startItemRejuv();
</PRE>
<P><FONT size=4>
In this case, we wanted the item to be
rejuvinating.  That means that, when the item is removed from the room by
a player, the item will reset at some point in the future.  If the rejuv ticks
count is set to 0, the item will not reset.  In the example above, the count
is set to 500 so that the item will reset.  However, the rejuvination is 
not actually activated until the room item rejuvs are set.  This is done with
the last method call to startItemRejuv(), which handles the rejuv resets on
all items in the room.</FONT> </P>
<P><FONT size=4>In the previous section, we saw how items are given to mobs by
simply calling the addInventory() method, so this will not be repeated.  Regardless 
of where or how the item is created, however, it is destroyed the same way.  With
a simple call to the destroyThis() method on the item.  Here is an example of 
destroying all the items in a room.
 </FONT> </P>
<P><FONT size=4></FONT> </P>
<PRE>	
	
	Room room=CMMap.getRoom("Midgaard#3504");
	for(int i=0;i&lt;room.numItems();i++)
	{
		Item item=room.fetchItem(i);
		item.destroyThis();
	}
</PRE>
<P align=left></P>
<P align=left></P>
<P align=left><FONT size=5><STRONG>
<IMG src="images/clown.jpg">
</STRONG></FONT><FONT size=3>&nbsp;</FONT></P>
<P align=left><FONT size=5 ><STRONG><FONT 
color=blue><FONT>Behaviors</FONT>:</FONT></STRONG></FONT></P>
<P align=left><FONT size=4>How to code a Behavior.</FONT></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left><FONT size=5><STRONG>
<IMG src="images/cloak.jpg">
</STRONG></FONT><FONT size=3>&nbsp;</FONT></P>
<P align=left><FONT size=5 color=purple><STRONG>Character Classes:</STRONG></FONT></P>
<P align=left><FONT size=4>How to code a Character Class.</FONT></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left><FONT size=5><STRONG>
<IMG src="images/dragon.jpg">
</STRONG></FONT><FONT size=3>&nbsp;</FONT></P>
<P align=left><FONT size=5 color=green><STRONG>Races:</STRONG></FONT></P>
<P align=left><FONT size=4>How to code a Race.</FONT></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left><FONT size=5><STRONG>
<IMG src="images/chomper.jpg">
</STRONG></FONT><FONT size=3>&nbsp;</FONT></P>
<P align=left><FONT size=5 color=navy><STRONG>Exits:</STRONG></FONT></P>
<P align=left><FONT size=4>How to code an Exit.</FONT></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left><FONT size=5><STRONG>
<IMG src="images/temple.jpg">
</STRONG></FONT><FONT size=3>&nbsp;</FONT></P>
<P align=left><FONT size=5 color=red><STRONG>Locales:</STRONG></FONT></P>
<P align=left><FONT size=4>How to code a Locale.</FONT></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left><FONT size=5><STRONG>
<IMG src="images/area.jpg">
</STRONG></FONT><FONT size=3>&nbsp;</FONT></P>
<P align=left><FONT size=5 color=gray><STRONG>Areas:</STRONG></FONT></P>
<P align=left><FONT size=4>How to code an Area.</FONT></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left><FONT size=5><STRONG>
<IMG src="images/fireball.jpg">
</STRONG></FONT><FONT size=3>&nbsp;</FONT></P>
<P align=left><FONT size=5 color=yellow style="BACKGROUND-COLOR: black"><STRONG>Spells:</STRONG></FONT></P>
<P align=left><FONT size=4>How to code a Spell.</FONT></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left><FONT size=5><STRONG>
<IMG src="images/prayer.jpg">
</STRONG></FONT><FONT size=3>&nbsp;</FONT></P>
<P align=left><FONT size=5 color=teal><STRONG>Prayers:</STRONG></FONT></P>
<P align=left><FONT size=4>How to code a Prayer.</FONT></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left><FONT size=5><STRONG>
<IMG src="images/elvis.jpg">
</STRONG></FONT><FONT size=3>&nbsp;</FONT></P>
<P align=left><FONT size=5 color=lime><STRONG>Songs:</STRONG></FONT></P>
<P align=left><FONT size=4>How to code a Song.</FONT></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left><FONT size=5><STRONG>
<IMG src="images/monk.jpg">
</STRONG></FONT><FONT size=3>&nbsp;</FONT></P>
<P align=left><FONT size=5 color=aqua><STRONG>Chants:</STRONG></FONT></P>
<P align=left><FONT size=4>How to code a Chant.</FONT></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left><FONT size=5><STRONG>
<IMG src="images/house.jpg">
</STRONG></FONT><FONT size=3>&nbsp;</FONT></P>
<P align=left><FONT size=5 color=olive><STRONG>Properties:</STRONG></FONT></P>
<P align=left><FONT size=4>How to code a Property.</FONT></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left><FONT size=5><STRONG>
<IMG src="images/fun.jpg">
</STRONG></FONT><FONT size=3>&nbsp;</FONT></P>
<P align=left><FONT size=5 color=maroon><STRONG>Skills/Common Skills, Thief Skills:</STRONG></FONT></P>
<P align=left><FONT size=4>How to code a Skill.</FONT></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P>
<P align=left></P></EM></FONT>
<P></P>
<P></P></TABLE>
</BODY>
</HTML>
