<HTML>
<HEAD>
<META NAME="GENERATOR" Content="Microsoft Visual Studio 6.0">
<TITLE></TITLE>
</HEAD>
<BODY>
<P><B>The CoffeeMUD&nbsp;SMTP Server:</B><BR>The CoffeeMUD&nbsp;SMTP Server is a 
simple mail transfer program which&nbsp;acts as&nbsp;server that runs as part of 
CoffeeMUD.&nbsp; It's primary purpose is to act as a mail forwarding and relay 
engine for email between mud users, and as a distribution point for mailing 
lists and other email related functions.</P>
<P><STRONG>How to Connect:</STRONG><BR>By default, 
the&nbsp;smtp&nbsp;server&nbsp;listens on port port 25.&nbsp; It is so important 
that it do so that you can not even change it.</P>
<P>Messages sent either directly or indirectly to the CoffeeMud SMTP Server MUST 
follow ALL of&nbsp;these rules or face rejection:</P>
<UL>
  <LI>The email MUST be formatted in PLAIN TEXT 
  <LI>The DOMAIN must be correctly defined in the SMTP 
  Server INI file (email.ini) 
  <LI>The email must be from: 
  <UL>
    <LI>a coffeemud journal name listed under JOURNALS in 
    the&nbsp;SMTP Server&nbsp;INI file (email.ini)&nbsp; 
    <LI><STRONG>OR</STRONG>&nbsp;a coffeemud journal name&nbsp; at the local 
    domain: example: My_Journal<A 
    href="mailto:My_Journal@coffeemud.homeip.net">@coffeemud.homeip.net</A>&nbsp; 

    <LI><STRONG>OR</STRONG>&nbsp;a 
    local player name 
    <LI><STRONG>OR</STRONG> a local player name at the local domain: example: <A 
    href="mailto:brutus@coffeemud.homeip.net">brutus@coffeemud.homeip.net</A>
    <LI><STRONG>OR</STRONG>&nbsp;the email address which a player has on file in 
    their account. </LI></UL>
  <LI>The email must be addressed to: 
  <UL>
    <LI>a coffeemud journal name&nbsp; at the local domain: example: 
    My_Journal<A 
    href="mailto:My_Journal@coffeemud.homeip.net">@coffeemud.homeip.net</A>&nbsp; 

    <LI><STRONG>OR</STRONG> a local player name at the local domain: example: <A 
    href="mailto:brutus@coffeemud.homeip.net">brutus@coffeemud.homeip.net</A>
    <LI><STRONG>OR</STRONG>&nbsp;the email address which a player has on file in 
    their account.</LI></UL>     </LI></UL>
<P><BR><BR><B>What it does and doesn't do:<BR></B>It&nbsp;accepts&nbsp;mail for 
storage and eventual delivery if&nbsp;the security&nbsp;conditions are 
met.&nbsp; It maintains mailing lists for journals.&nbsp; It provides security 
against illegal postings to journals or mailing lists.&nbsp; It delivers emails 
to where they need to go, and distributes mailing list messages to where they 
need to go.&nbsp; </P>
<P>It does not handle SMTP compliant mailing lists, and will only deal with 
plain text messages due to journal interactions.&nbsp; <BR><BR>It supports HELO, 
EHLO, RCPT, MAIL, HELP, QUIT, NOOP, RSET, DATA, and DSN.</P>
<P>It does not support EXPN, VRFY,&nbsp;VERB,&nbsp;ETRN, or any expanded 
parameters to either MAIL or RCPT.</P>
<P> </P>
<P><B>Security:</B><BR>The SMTP Server&nbsp;may be&nbsp;bound to 127.0.0.1 
(localhost) - this means it will not accept external connections.</P>
<P>The SMTP Server only allows messages FROM valid users or journals TO valid 
users or journals.&nbsp; All security checking is done as the message is 
arriving, so there is no chance of an invalid message taking up disk space, much 
less being relayed.&nbsp; It doesn't get any more secure than that.<BR></P>
<P><B>Configuration:</B><BR>The default installation of CoffeeMUD has two 
inbuilt web servers, named 'pub' and 'admin'. The web servers are enabled with 
the line 'RUNWEBSERVERS=true' in 'coffeemud.ini'; any other value or the 
abscence of this line will cause the web servers not to be loaded.</P>
<P>INI files for the web servers live in the 'web/' directory off the CoffeeMUD 
root; by default, all pages to be served go in <I>web/(servername)/</I>, though 
this can be overridden. Options are placed in either 'web/common.ini' or 
'web/(servername).ini'; an option in the latter will override one in common. The 
options are: </P>
<UL>
  <LI><B>PORT</B>=xx : <B>[REQUIRED]</B> <I>(e.g. PORT=25)</I> 
  Sets the port number the&nbsp;server will listen for SMTP requests on; this 
  cannot be the same port as the main MUD server or web servers. Identical to 
  MUD server usage.&nbsp;There is normally no good reason&nbsp;to change from 
  25, as that is what&nbsp;email clients will expect.&nbsp; 
  <LI><B>BACKLOG</B>=xx : <I>(e.g. BACKLOG=10)</I> Sets the number of requests 
  that can be queued by the internal TCP/IP stack. Identical to MUD server 
  usage. 
  <LI><B>BIND</B>=addr : <I>(e.g. BIND=127.0.0.1)</I> Causes the server to be 
  bound to a specific address; this is useful on multi-homed machines or if you 
  wish to prevent public access to the pages. Identical to MUD server 
  usage.<BR><B>The Admin server should be bound to localhost (or 127.0.0.1) 
  unless you really know what you're doing...</B> 
  <LI><B>DEFAULTFILE</B>=filename : <B>[REQUIRED]</B> <I>(e.g. 
  DEFAULTFILE=index.html)</I> Sets the default filename to be appended if none 
  is specified in the request (or the request refers to a directory - in which 
  case the browser will get a 401 Unauthorized rather than a 404 Not Found if 
  this file doesn't exist). </LI></UL>

</BODY>
</HTML>
