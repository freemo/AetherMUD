<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache">
@if?!Authenticate@ @AddFile?/grinder/failedlogin.cmvp@ @else@
@if?!CheckReqParm?SUBOP=true@ @AddFile?/grinder/nopriv.cmvp@ @else@

<html>
<head>
	<!-- tell spiders to sod off -->
	<meta name="ROBOTS" content="NOINDEX, NOFOLLOW">
	<link rel="STYLESHEET" TYPE="TEXT/CSS" HREF="/grinder/grinder.css">
	<title>CoffeeMUD MUDGrinder</title>
	<script language=JavaScript>
	<!--
		function Clicked(action)
		{
			document.SELECTAREA.action='/grinder/'+action;
			document.SELECTAREA.submit();
		}
		function Clicked2(action)
		{
			document.SELECTAREA.action=action;
			document.SELECTAREA.submit();
		}
		function Threads()
		{
			var strFeatures="top=0,left=75,resizeable=no,scrollbars=yes,height=600,width=650,alwaysRaised=yes,dependent=yes";
			w=window.open("thread.cmvp?AUTH=@Authenticate?AUTH@&TICKGROUPCOUNTER=0","Thread",strFeatures, false);
		}
		function SSort(ME,start)
		{
			var val='';
			var oldex=ME.selectedIndex;
			if(oldex>=0) val=ME.options[oldex].value;
			
			var h=0;
		    while((h*3+1)<ME.options.length)
			    h=3*h+1;
		    while(h>0)
		    {
		        for (i=h-1;i<ME.options.length;i++) 
		        {
		            var T1 = ME.options[i].text;
		            var T2 = ME.options[i].value;
		            var j=i;
		            for(j=i;(j>=h)&&(j>=start)&&((j-h)>=start)&&(ME.options[j-h].text>T1);j-=h) 
		            {
		                ME.options[j].value = ME.options[j-h].value;
		                ME.options[j].text = ME.options[j-h].text;
		            }
		            ME.options[j].value = T2;
		            ME.options[j].text = T1;
		        }
		        h = Math.round(h / 3);
		    }
		    
		    ME.selectedIndex=oldex;
		    if((oldex>=0)&&(ME.options[ME.selectedIndex].value!=val))
				for(oldex=0;oldex<ME.options.length;oldex++)
					if(ME.options[oldex].value==val)
					{
						ME.selectedIndex=oldex;
						break;
					}
		}
    
		function Sort(ME)
		{
			SSort(ME,0);
		}
	//-->
	</script>
</head>
<body>

<CENTER>
<IMG SRC="/grinder/images/grinder.gif" WIDTH=78 HEIGHT=122 ALT="" BORDER="0"><br>
<h3><FONT COLOR=WHITE>MUDGrinder Main Menu</FONT></H3>
<br>
<FORM NAME=SELECTAREA METHOD=POST ACTION="" TARGET=_top>
<INPUT TYPE=HIDDEN NAME=AUTH VALUE="@Authenticate?AUTH@">
@if?CheckReqParm?SYSOP=true&AUTH_LOADUNLOAD=true&AUTH_CMDPLAYERS&AUTH_STAT=true&AUTH_JOURNALS=true&AUTH_CMDQUESTS=true&AUTH_BAN=true@
<TABLE WIDTH=200 BORDER=1>
<TR><TD ALIGN=CENTER BGCOLOR=WHITE><FONT COLOR=BLACK><B>Utilities:</B></FONT></TD></TR>
<TR><TD ALIGN=CENTER>
	@if?CheckReqParm?AUTH_LOADUNLOAD=true@
	<A href="javascript:Clicked('resources.cmvp')"><FONT COLOR=WHITE>Manage Resources</FONT></a>
	<BR>
	@endif@
	@if?CheckReqParm?AUTH_STAT=true&AUTH_CMDPLAYERS=true@
	<A href="javascript:Clicked('players.cmvp')"><FONT COLOR=WHITE>Players List</FONT></a>
	<BR>
	@endif@
	@if?CheckReqParm?AUTH_JOURNALS=true@
	<A href="javascript:Clicked('journal.cmvp')"><FONT COLOR=WHITE>Journals Browser</FONT></a>
	<BR>
	@endif@
	@if?CheckReqParm?AUTH_CMDQUESTS=true@
	<A href="javascript:Clicked('quests.cmvp')"><FONT COLOR=WHITE>Quests Manager</FONT></a>
	<BR>
	@endif@
	@if?CheckReqParm?AUTH_BAN=true@
	<A href="javascript:Clicked('banners.cmvp')"><FONT COLOR=WHITE>Banned List</FONT></a>
	<BR>
	@endif@
	@if?CheckReqParm?SYSOP=true@
	<A href="javascript:Clicked('reports.cmvp')"><FONT COLOR=WHITE>System Reports</FONT></a>
	<BR>
	<A href="javascript:Threads()"><FONT COLOR=WHITE>Thread Groups</FONT></a>
	<BR>
	<A href="javascript:Clicked('control.cmvp')"><FONT COLOR=WHITE>Control Panel</FONT></a>
	<BR>
	<A href="javascript:Clicked('stats.cmvp')"><FONT COLOR=WHITE>Statistics</FONT></a>
	<BR>
	<A href="javascript:Clicked('log.cmvp')"><FONT COLOR=WHITE>View Server Log</FONT></a>
	@endif@
</TD></TR>
</TABLE>
@endif@
@if?CheckReqParm?ANYMODAREAS=true@
	<P>
	<TABLE WIDTH=200 BORDER=1>
	<TR><TD ALIGN=CENTER BGCOLOR=WHITE><FONT COLOR=BLACK><B>Areas available:</B></FONT></TD></TR>
	<TR><TD ALIGN=CENTER>
	<SELECT NAME=AREA HEIGHT=10>
	@MUDGrinder?AREALIST@
	</SELECT>
	<SCRIPT LANGUAGE=JavaScript>
	<!--
		Sort(document.SELECTAREA.AREA);
	-->
	</SCRIPT>
	</TD></TR>
	<TR><TD ALIGN=CENTER>
	@if?CheckReqParm?SYSOP=true&ALLMODAREAS=true@
	<TABLE BORDER=0><TR><TD ALIGN=CENTER>
	<INPUT TYPE=BUTTON NAME=NEWAREA VALUE="Create" ONCLICK="Clicked('newarea.cmvp');">
	</TD><TD ALIGN=CENTER>
	<INPUT TYPE=BUTTON NAME=MODAREA VALUE="Modify" ONCLICK="Clicked('modarea.cmvp');">
	</TD><TD ALIGN=CENTER>
	<INPUT TYPE=BUTTON NAME=MODAREA VALUE="Map" ONCLICK="Clicked('maparea.cmvp');">
	</TD><TD ALIGN=CENTER>
	<INPUT TYPE=BUTTON NAME=DELAREA VALUE="Delete" ONCLICK="if(confirm('Are you sure you want to delete this area?'))Clicked('areagone.cmvp');">
	</TD>
	</TR></TABLE>
	@else@
		<INPUT TYPE=BUTTON NAME=MODAREA VALUE="Modify" ONCLICK="Clicked('modarea.cmvp');">
	@endif@
	</TD></TR>
	<TR><TD ALIGN=CENTER>
	<INPUT TYPE=CHECKBOX NAME=MAPSTYLE>
	<FONT COLOR=WHITE>Use Z-Level Mapping</FONT>
	</TD></TR>
	</TABLE>
@endif@
<P>
<CENTER>
<INPUT TYPE=BUTTON NAME=LOGOUT VALUE="Log Out" ONCLICK="Clicked2('/index.cmvp');">
</CENTER>
</FORM>
</BODY>
</HTML>
@endif@ 
@endif@ 




